this.LIBRO=this.LIBRO||{},this.LIBRO.priceTable=function(e){"use strict";function t(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e.store.debug&&(t=e.logger.tag("price-table")).info.apply(t,function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(r),!1))}function r(){var t;e.store.once("URL_DATA",n),(t=e.dom.getElements(".price-table")).length>1&&t.forEach((function(t,r){var n=e.dom.getElements(t,".price-table__feature"),i=n.length,a=t.nextElementSibling||t.previousElementSibling;if(i>e.dom.getElements(a,".price-table__feature").length){var o=e.dom.getElements(a,".price-table__feature__name").map((function(e){return e.innerHTML.toLowerCase()})),c=n.filter((function(t){var r=e.dom.getElement(t,".price-table__feature__name");return r&&!o.includes(r.innerHTML.toLowerCase())}));e.dom.addClass(c,"price-table__feature--highlight")}})),e.store.once("SUBSCRIPTION_CONTENT",i)}function n(r){t("Handling %s content: %s","URL_DATA",r);try{e.dom.appendQueryParams(".price-table .button","href",r)}catch(e){t(e)}}function i(r){t("Handling %s content: %s","SUBSCRIPTION_CONTENT",r);try{"price-table"in r&&(i=(n=[r["price-table"]]).find((function(e){return void 0===e._id})),a=n.filter((function(e){return void 0!==e._id})),o=n.some((function(e){return e.cta_action&&"switch"===e.cta_action})),e.updateGenericButton(".price-table .price-table__header",i),a.length>0&&a.forEach((function(t){return e.updateGenericButton('.price-table .price-table__column[data-id="'.concat(t._id,'"] .price-table__header'),t)})),o&&e.dom.addListener(".price-table .price-table__header","click",(function(t){e.dom.isInside(t.target,'.button[data-action="switch"]')&&(t.preventDefault(),e.store.showSwitchLightbox())})))}catch(e){t(e)}var n,i,a,o}return"function"==typeof SuppressedError&&SuppressedError,r(),{init:r}}(LIBRO.common);